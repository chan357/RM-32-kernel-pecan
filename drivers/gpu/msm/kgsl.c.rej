--- drivers/gpu/msm/kgsl.c
+++ drivers/gpu/msm/kgsl.c
@@ -972,8 +972,9 @@
 		result = -EINVAL;
 		goto error;
 	}
-
+        down_read(&current->mm->mmap_sem);
 	vma = find_vma(current->mm, param.hostptr);
+        up_read(&current->mm->mmap_sem);
 	if (!vma) {
 		KGSL_MEM_ERR("Could not find vma for address %x\n",
 			     param.hostptr);
